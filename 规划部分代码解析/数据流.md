# 数据流

> 基于feature-sjtu分支下的仿真中使用的planning.sh启动的四个launch文件：
>
> 1. simulation_mission_planning.launch
> 2. simulation_scenario_manager.launch
> 3. simulation_motion_planning.launch
> 4. simulation_costmap_generator.launch



### 1. `simulation_mission_planning.launch`

启动了两个节点：op_global_planner；waypoint_loader

---

**订阅话题**

- 当手动在rviz中给定初始位姿时
  - **“/initialpose”**
  - **"scenario_manager/scenario_cmd"**：发布自`scenario_manager_core.cpp`

- **"/current_pose"**：发布自`ndt_mapping.cpp`

- 判断速度来源
  - vel_src为odom，**"/odom"**
  - vel_src为current_vel，**"/current_velocity"**：发布自`test_lane_select.hpp` / `test_vel_pose_diff_checker.cpp`
  - vel_src为can_info，**"/can_info"**
- 当允许地图动态更新时，**"/occupancy_road_status"**

- 有关矢量地图的信息

  - **"/vector_map_info/lane"**
  - **"/vector_map_info/point"**
  - **"/vector_map_info/dtlane"**
  - **"/vector_map_info/cross_road"**
  - **"/vector_map_info/area"**
  - **"/vector_map_info/line"**
  - **"/vector_map_info/stop_line"**
  - **"/vector_map_info/signal"**
  - **"/vector_map_info/vector"**
  - **"/vector_map_info/curb"**
  - **"/vector_map_info/road_edge"**
  - **"/vector_map_info/way_area"**
  - **"/vector_map_info/cross_walk"**
  - **"/vector_map_info/node"**

  以上均在`vector_map.cpp`中可见

---

**发布话题**

- **"lane_waypoints_array"**：发布给`waypoint_marker_publisher.cpp`
- **"driving_status"**
- **"global_waypoints_rviz"**

- **"vector_map_center_lines_rviz"**

- **"op_destinations_rviz"**



















































































